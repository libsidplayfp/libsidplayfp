<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libsidplayfp: reSIDfp::SincResampler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libsidplayfp
   &#160;<span id="projectnumber">2.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>reSIDfp</b></li><li class="navelem"><a class="el" href="classreSIDfp_1_1SincResampler.html">SincResampler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classreSIDfp_1_1SincResampler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">reSIDfp::SincResampler Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="SincResampler_8h_source.html">SincResampler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for reSIDfp::SincResampler:</div>
<div class="dyncontent">
<div class="center"><img src="classreSIDfp_1_1SincResampler__inherit__graph.png" border="0" usemap="#areSIDfp_1_1SincResampler_inherit__map" alt="Inheritance graph"/></div>
<map name="areSIDfp_1_1SincResampler_inherit__map" id="areSIDfp_1_1SincResampler_inherit__map">
<area shape="rect" title=" " alt="" coords="5,80,180,107"/>
<area shape="rect" href="classreSIDfp_1_1Resampler.html" title=" " alt="" coords="19,5,167,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for reSIDfp::SincResampler:</div>
<div class="dyncontent">
<div class="center"><img src="classreSIDfp_1_1SincResampler__coll__graph.png" border="0" usemap="#areSIDfp_1_1SincResampler_coll__map" alt="Collaboration graph"/></div>
<map name="areSIDfp_1_1SincResampler_coll__map" id="areSIDfp_1_1SincResampler_coll__map">
<area shape="rect" title=" " alt="" coords="5,80,180,107"/>
<area shape="rect" href="classreSIDfp_1_1Resampler.html" title=" " alt="" coords="19,5,167,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a18dddd2eacd3f9ae8b91ac03309a462e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1SincResampler.html#a18dddd2eacd3f9ae8b91ac03309a462e">SincResampler</a> (double clockFrequency, double samplingFrequency, double highestAccurateFrequency)</td></tr>
<tr class="separator:a18dddd2eacd3f9ae8b91ac03309a462e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ea66f27347b49f9d6394666309baad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1SincResampler.html#a05ea66f27347b49f9d6394666309baad">input</a> (int input) override</td></tr>
<tr class="separator:a05ea66f27347b49f9d6394666309baad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9885acdc9069cd4fae705ba27114e6"><td class="memItemLeft" align="right" valign="top"><a id="aac9885acdc9069cd4fae705ba27114e6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>output</b> () const override</td></tr>
<tr class="separator:aac9885acdc9069cd4fae705ba27114e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6220d3ffb50428cf4fa4088fd85eae55"><td class="memItemLeft" align="right" valign="top"><a id="a6220d3ffb50428cf4fa4088fd85eae55"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> () override</td></tr>
<tr class="separator:a6220d3ffb50428cf4fa4088fd85eae55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classreSIDfp_1_1Resampler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classreSIDfp_1_1Resampler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classreSIDfp_1_1Resampler.html">reSIDfp::Resampler</a></td></tr>
<tr class="memitem:a9cdc23bb889f216213cc0598fbe30c37 inherit pub_methods_classreSIDfp_1_1Resampler"><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1Resampler.html#a9cdc23bb889f216213cc0598fbe30c37">getOutput</a> (int scaleFactor) const</td></tr>
<tr class="separator:a9cdc23bb889f216213cc0598fbe30c37 inherit pub_methods_classreSIDfp_1_1Resampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_static_methods_classreSIDfp_1_1Resampler"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classreSIDfp_1_1Resampler')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classreSIDfp_1_1Resampler.html">reSIDfp::Resampler</a></td></tr>
<tr class="memitem:a05ae8ec971fef89c9b7e6418201c93d4 inherit pro_static_methods_classreSIDfp_1_1Resampler"><td class="memItemLeft" align="right" valign="top"><a id="a05ae8ec971fef89c9b7e6418201c93d4"></a>
static short&#160;</td><td class="memItemRight" valign="bottom"><b>softClip</b> (int x)</td></tr>
<tr class="separator:a05ae8ec971fef89c9b7e6418201c93d4 inherit pro_static_methods_classreSIDfp_1_1Resampler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the theoretically correct (and computationally intensive) audio sample generation. The samples are generated by resampling to the specified sampling frequency. The work rate is inversely proportional to the percentage of the bandwidth allocated to the filter transition band.</p>
<p>This implementation is based on the paper "A Flexible Sampling-Rate Conversion Method", by J. O. Smith and P. Gosset, or rather on the expanded tutorial on the <a href="http://www-ccrma.stanford.edu/~jos/resample/">Digital Audio Resampling Home Page</a>.</p>
<p>By building shifted FIR tables with samples according to the sampling frequency, this implementation dramatically reduces the computational effort in the filter convolutions, without any loss of accuracy. The filter convolutions are also vectorizable on current hardware. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a18dddd2eacd3f9ae8b91ac03309a462e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dddd2eacd3f9ae8b91ac03309a462e">&#9670;&nbsp;</a></span>SincResampler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reSIDfp::SincResampler::SincResampler </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>clockFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>samplingFrequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>highestAccurateFrequency</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use a clock freqency of 985248Hz for PAL C64, 1022730Hz for NTSC C64. The default end of passband frequency is pass_freq = 0.9*sample_freq/2 for sample frequencies up to ~ 44.1kHz, and 20kHz for higher sample frequencies.</p>
<p>For resampling, the ratio between the clock frequency and the sample frequency is limited as follows: 125*clock_freq/sample_freq &lt; 16384 E.g. provided a clock frequency of ~ 1MHz, the sample frequency can not be set lower than ~ 8kHz. A lower sample frequency would make the resampling code overfill its 16k sample ring buffer.</p>
<p>The end of passband frequency is also limited: pass_freq &lt;= 0.9*sample_freq/2</p>
<p>E.g. for a 44.1kHz sampling rate the end of passband frequency is limited to slightly below 20kHz. This constraint ensures that the FIR table is not overfilled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clockFrequency</td><td>System clock frequency at Hz </td></tr>
    <tr><td class="paramname">samplingFrequency</td><td>Desired output sampling rate </td></tr>
    <tr><td class="paramname">highestAccurateFrequency</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a05ea66f27347b49f9d6394666309baad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05ea66f27347b49f9d6394666309baad">&#9670;&nbsp;</a></span>input()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool reSIDfp::SincResampler::input </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sample</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Input a sample into resampler. Output "true" when resampler is ready with new sample.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sample</td><td>input sample </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true when a sample is ready </dd></dl>

<p>Implements <a class="el" href="classreSIDfp_1_1Resampler.html#a6318bf62b958dc36f5cc4d2ca3e6a9c0">reSIDfp::Resampler</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SincResampler_8h_source.html">SincResampler.h</a></li>
<li>SincResampler.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 12 2024 15:26:51 for libsidplayfp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
