<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libsidplayfp: reSIDfp::Dac Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libsidplayfp
   &#160;<span id="projectnumber">2.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>reSIDfp</b></li><li class="navelem"><a class="el" href="classreSIDfp_1_1Dac.html">Dac</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classreSIDfp_1_1Dac-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">reSIDfp::Dac Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Dac_8h_source.html">Dac.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1a32c4a2cd67fa7d9918afbbeaf1fea5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1Dac.html#a1a32c4a2cd67fa7d9918afbbeaf1fea5">Dac</a> (unsigned int bits)</td></tr>
<tr class="separator:a1a32c4a2cd67fa7d9918afbbeaf1fea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acef19a169e750eb26460c120317c6979"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1Dac.html#acef19a169e750eb26460c120317c6979">kinkedDac</a> (ChipModel chipModel)</td></tr>
<tr class="separator:acef19a169e750eb26460c120317c6979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd03fd9e4277dc8db9d45156ddab0cd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classreSIDfp_1_1Dac.html#a6fd03fd9e4277dc8db9d45156ddab0cd">getOutput</a> (unsigned int input) const</td></tr>
<tr class="separator:a6fd03fd9e4277dc8db9d45156ddab0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Estimate DAC nonlinearity. The <a class="el" href="classreSIDfp_1_1SID.html">SID</a> DACs are built up as R-2R ladder as follows: </p><pre class="fragment">    n  n-1      2   1   0    VGND
    |   |       |   |   |      |   Termination
   2R  2R      2R  2R  2R     2R   only for
    |   |       |   |   |      |   MOS 8580
Vo -o-R-o-R-...-o-R-o-R--    --+
</pre><p>All MOS 6581 DACs are missing a termination resistor at bit 0. This causes pronounced errors for the lower 4 - 5 bits (e.g. the output for bit 0 is actually equal to the output for bit 1), resulting in DAC discontinuities for the lower bits. In addition to this, the 6581 DACs exhibit further severe discontinuities for higher bits, which may be explained by a less than perfect match between the R and 2R resistors, or by output impedance in the NMOS transistors providing the bit voltages. A good approximation of the actual DAC output is achieved for 2R/R ~ 2.20.</p>
<p>The MOS 8580 DACs, on the other hand, do not exhibit any discontinuities. These DACs include the correct termination resistor, and also seem to have very accurately matched R and 2R resistors (2R/R = 2.00).</p>
<p>On the 6581 the output of the waveform and envelope DACs go through a voltage follower built with two NMOS: </p><pre class="fragment">        Vdd

         |
       |-+
</pre><p> Vin ----&mdash;| T1 (enhancement-mode) |-+ | o-----&mdash; Vout | |-+ +&mdash;| T2 (depletion-mode) | |-+ | |</p>
<p>GND GND </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1a32c4a2cd67fa7d9918afbbeaf1fea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a32c4a2cd67fa7d9918afbbeaf1fea5">&#9670;&nbsp;</a></span>Dac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">reSIDfp::Dac::Dac </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>bits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize DAC model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bits</td><td>the number of input bits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6fd03fd9e4277dc8db9d45156ddab0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd03fd9e4277dc8db9d45156ddab0cd">&#9670;&nbsp;</a></span>getOutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double reSIDfp::Dac::getOutput </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the Vo output for a given combination of input bits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>the digital input </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the analog output value </dd></dl>

</div>
</div>
<a id="acef19a169e750eb26460c120317c6979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acef19a169e750eb26460c120317c6979">&#9670;&nbsp;</a></span>kinkedDac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reSIDfp::Dac::kinkedDac </td>
          <td>(</td>
          <td class="paramtype">ChipModel&#160;</td>
          <td class="paramname"><em>chipModel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Build DAC model for specific chip.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chipModel</td><td>6581 or 8580 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Dac_8h_source.html">Dac.h</a></li>
<li>Dac.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jun 9 2024 14:09:17 for libsidplayfp by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
